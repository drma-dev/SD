@page "/List/HollywoodReporter"
@inherits ComponenteCore<Tmdb>
@inject Services.TMDB.ListService Service
@inject Settings Settings

<HeadPage ImageSource="logo/HollywoodReporter.png" Text="@TranslationText.thr_desc" Link="https://www.hollywoodreporter.com/"></HeadPage>

<MediaList CardHeader="Top 100 Movies" Items="@ListMovies" list_id="8222343" maxItens="100"></MediaList>
<MediaList CardHeader="Top 100 TV Shows" Items="@ListShows" list_id="8222348" maxItens="100"></MediaList>

@code {
    private HashSet<MediaDetail> ListMovies { get; set; } = new();
    private HashSet<MediaDetail> ListShows { get; set; } = new();

    protected override async Task OnInitializedAsync()
    {
        await base.OnInitializedAsync();

        await Service.PopulateListMedia(Http, StorageService, Settings, ListMovies, 1, GetExtraParameters("8222343"));
        await Service.PopulateListMedia(Http, StorageService, Settings, ListShows, 1, GetExtraParameters("8222348"));
    }

    private Dictionary<string, string> GetExtraParameters(string list_id)
    {
        return new Dictionary<string, string>() { { "list_id", list_id } }; ;
    }
}