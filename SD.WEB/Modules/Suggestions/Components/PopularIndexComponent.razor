@using SD.WEB.Modules.Suggestions.Core;
@using SD.WEB.Modules.Suggestions.Components;

@inherits ComponenteNoDataCore<PopularIndexComponent>

@inject ImdbPopularApi ImdbPopularApi
@inject TmdbNowPlayingApi TmdbNowPlayingApi

<HeaderComponent Title="@TranslationText.Popular">
    <RadioGroup @bind-CheckedValue="TypeSelected" Buttons="true" Float="Float.End" Class="btn-group-xs">
        <Radio Value="PopularType.Movie">@PopularType.Movie.GetName()</Radio>
        <Radio Value="PopularType.Show">@PopularType.Show.GetName()</Radio>
        <Radio Value="PopularType.Cinema">@PopularType.Cinema.GetName()</Radio>
    </RadioGroup>
</HeaderComponent>
@if (TypeSelected == PopularType.Movie)
{
    <MediaList TitleHead="@TranslationText.Popular" MediaListApi="ImdbPopularApi" MaxItens="10" IsIMDB="true" ShowHead="false" MultipleLanguages="false"
               StringParameters="Params"></MediaList>
}
else if (TypeSelected == PopularType.Show)
{
    <MediaList TitleHead="@TranslationText.Popular" MediaListApi="ImdbPopularApi" MaxItens="10" IsIMDB="true" ShowHead="false" MultipleLanguages="false"
               StringParameters="Params" TypeSelected="MediaType.tv"></MediaList>
}
else if (TypeSelected == PopularType.Cinema)
{
    <MediaList ShowHead="false" MediaListApi="TmdbNowPlayingApi" MaxItens="10" MultiplesRegions="true">
    </MediaList>
}

@code {
    public PopularType TypeSelected { get; set; } = PopularType.Movie;

    public Dictionary<string, string> Params { get; set; } = new Dictionary<string, string>() { { "mode", "compact" } };
}